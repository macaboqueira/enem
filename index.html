<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HISTÓRIA E GEOGRAFIA PARA ENEM</title>
    <!-- Carrega Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Carrega Font Awesome para ícones -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <script>
        // Configuração customizada do Tailwind para usar a fonte Inter
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        /* Estilo base para garantir o layout de tela cheia */
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            font-family: 'Inter', sans-serif;
        }

        /* Estilo da imagem de fundo - Usando o link RAW do Github para garantir o carregamento */
        #desktop-background {
            background-image: url('https://static.vecteezy.com/ti/fotos-gratis/p2/7009525-azul-curva-linha-abstrato-fundo-em-espaco-azul-gradiente-cor-tom-camada-de-sobreposicao-de-papel-foto.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
        }

        /* Efeito de zoom/elevação no Dock (Estilo Mac) */
        .dock-item {
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
            cursor: pointer;
        }
        .dock-item:hover {
            transform: translateY(-10px) scale(1.15);
            z-index: 10;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
        }
        /* Feedback visual ao clicar nos itens do Dock */
        .dock-item:active {
            transform: translateY(-5px) scale(1.05);
        }

        /* Estilo para ícones grandes e clicáveis */
        .desktop-icon {
            transition: background-color 0.15s ease-in-out, transform 0.1s ease-in-out;
            cursor: pointer;
            /* Usamos text-white aqui para as labels ficarem brancas */
            color: white; 
        }
        .desktop-icon:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        .desktop-icon:active {
            transform: scale(0.95);
        }
        /* Garantindo que o texto do dock seja branco e o ícone colorido */
        .dock-label {
            color: white;
        }

        /* Estilo da Janela Modal - Similar ao Ubuntu/Mac */
        #desktop-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            width: 90%;
            max-width: 800px;
            height: 80%;
            max-height: 90vh;
            background: #f7f7f7; /* Fundo claro para o conteúdo */
            border-radius: 12px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            z-index: 40;
            transition: all 0.3s ease; /* Transição para Maximizar/Restaurar */
            overflow: hidden;
            opacity: 0;
            visibility: hidden;
        }
        
        /* Estado visível da modal com efeito de surgir */
        #desktop-modal.open {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }
        
        /* Estilo para a janela maximizada (tela cheia) */
        #desktop-modal.maximized {
            width: 100%;
            max-width: 100vw;
            height: 100%;
            max-height: 100vh;
            top: 0 !important; /* Força posição máxima, ignorando o arrasto */
            left: 0 !important;
            transform: none !important; /* Remove a translação */
            border-radius: 0; 
        }

        /* Barra de Título da Janela - Agora é a alça para arrastar */
        .modal-title-bar {
            padding: 8px 16px;
            background-color: #e5e7eb; 
            border-bottom: 1px solid #d1d5db;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-shrink: 0;
            border-top-left-radius: 12px;
            border-top-right-radius: 12px;
            cursor: grab; /* Novo cursor para indicar que é arrastável */
        }
        #desktop-modal.maximized .modal-title-bar {
            border-top-left-radius: 0;
            border-top-right-radius: 0;
            cursor: default; /* Cursor padrão quando maximizado */
        }

        /* Botões de Ação (Fechar/Maximizar/Minimizar) */
        .modal-controls {
            display: flex;
            gap: 8px;
        }
        .modal-control-btn {
            width: 16px; 
            height: 16px;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.1s ease;
            border: none;
            padding: 0;
        }
        .modal-control-btn:hover {
            transform: scale(1.1);
        }
        
        /* Conteúdo da Janela com Barra de Rolagem Automática */
        .modal-content-area {
            flex-grow: 1;
            padding: 24px;
            overflow-y: auto; 
            background-color: white;
        }
        
        /* Estilo para imagens responsivas nos modais */
        .modal-image {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
        }
        
        /* Estilo para o dock em telas pequenas */
        @media (max-width: 640px) {
            #dock {
                overflow-x: auto;
                padding-bottom: 8px;
            }
            #dock::-webkit-scrollbar {
                height: 4px;
            }
            #dock::-webkit-scrollbar-thumb {
                background: rgba(255, 255, 255, 0.3);
                border-radius: 2px;
            }
        }
        
        /* Efeito durante o arrasto */
        .dragging {
            transform: scale(0.98);
            opacity: 0.9;
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.7);
        }
        
        /* Estilos para as ferramentas interativas */
        .interactive-toolbar {
            display: flex;
            gap: 10px;
            padding: 10px;
            background: #f1f5f9;
            border-bottom: 1px solid #e2e8f0;
            flex-wrap: wrap;
        }
        
        .tool-btn {
            padding: 6px 12px;
            border-radius: 6px;
            border: 1px solid #cbd5e1;
            background: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.2s;
            font-size: 14px;
        }
        
        .tool-btn:hover {
            background: #f8fafc;
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .tool-btn.active {
            background: #3b82f6;
            color: white;
            border-color: #2563eb;
        }
        
        .highlight-yellow {
            background-color: rgba(255, 255, 0, 0.4);
            padding: 0 2px;
            border-radius: 2px;
        }
        
        .highlight-pink {
            background-color: rgba(255, 182, 193, 0.4);
            padding: 0 2px;
            border-radius: 2px;
        }
        
        .highlight-blue {
            background-color: rgba(173, 216, 230, 0.4);
            padding: 0 2px;
            border-radius: 2px;
        }
        
        .highlight-green {
            background-color: rgba(144, 238, 144, 0.4);
            padding: 0 2px;
            border-radius: 2px;
        }
        
        .text-annotation {
            position: relative;
            display: inline-block;
        }
        
        .text-annotation::after {
            content: "";
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 2px;
            background: currentColor;
            opacity: 0.7;
        }
        
        .sticky-note {
            background: #fff9c4;
            border-left: 4px solid #ffd54f;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .flashcard {
            perspective: 1000px;
            margin: 15px 0;
        }
        
        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 150px;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            cursor: pointer;
        }
        
        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }
        
        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .flashcard-front {
            background: #4f46e5;
            color: white;
        }
        
        .flashcard-back {
            background: white;
            color: #1f2937;
            transform: rotateY(180deg);
            border: 1px solid #e5e7eb;
        }
        
        .quiz-option {
            padding: 10px;
            margin: 5px 0;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .quiz-option:hover {
            background: #f3f4f6;
        }
        
        .quiz-option.correct {
            background: #d1fae5;
            border-color: #10b981;
        }
        
        .quiz-option.incorrect {
            background: #fee2e2;
            border-color: #ef4444;
        }
        
        /* Estilos para a biografia do Lira Dutra */
        .profile-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            color: white;
        }
        
        .profile-header {
            padding: 30px 30px 20px;
            text-align: center;
            background: rgba(0,0,0,0.1);
        }
        
        .profile-image {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 5px solid rgba(255,255,255,0.3);
            object-fit: cover;
            margin: 0 auto 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .profile-name {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .profile-title {
            font-size: 18px;
            opacity: 0.9;
            margin-bottom: 15px;
        }
        
        .profile-badges {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .badge {
            background: rgba(255,255,255,0.2);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 14px;
            backdrop-filter: blur(10px);
        }
        
        .profile-content {
            padding: 25px 30px;
            background: white;
            color: #333;
        }
        
        .profile-section {
            margin-bottom: 25px;
        }
        
        .profile-section h3 {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #4f46e5;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .profile-section p {
            line-height: 1.6;
            margin-bottom: 10px;
        }
        
        .social-links {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .social-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #4f46e5;
            color: white;
            font-size: 20px;
            transition: all 0.3s;
            text-decoration: none;
        }
        
        .social-link:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            background: #3b3bff;
        }
        
        .achievement-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .achievement-item {
            background: #f8fafc;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #4f46e5;
        }
        
        .achievement-item h4 {
            font-weight: 600;
            margin-bottom: 5px;
            color: #1e293b;
        }
        
        .achievement-item p {
            font-size: 14px;
            color: #64748b;
        }
    </style>
</head>
<body>

    <!-- Overlay do Modal (Fundo Escuro e Semitransparente) -->
    <div id="modal-overlay" class="hidden fixed inset-0 bg-black/60 z-30 transition-opacity duration-300"></div>

    <!-- JANELA MODAL PRINCIPAL -->
    <div id="desktop-modal" class="flex flex-col">
        
        <!-- Barra de Título (Alça para arrastar) -->
        <div class="modal-title-bar">
            <div class="modal-controls">
                <!-- Botão Fechar (Vermelho - Implementado com 'X') -->
                <button id="close-modal-btn" class="modal-control-btn bg-red-500 hover:bg-red-600 flex items-center justify-center" title="Fechar">
                    <i class="fas fa-times text-white text-[8px]"></i>
                </button>
                <!-- Botão Minimizar (Amarelo - Implementado para Minimizar/Restaurar) -->
                <button id="minimize-modal-btn" class="modal-control-btn bg-yellow-500 hover:bg-yellow-600" title="Minimizar"></button>
                <!-- Botão Maximizar (Verde - Implementado com ícone de expandir/restaurar) -->
                <button id="maximize-modal-btn" class="modal-control-btn bg-green-500 hover:bg-green-600 flex items-center justify-center" title="Maximizar">
                    <i class="fas fa-expand-arrows-alt text-white text-[8px]" id="maximize-icon"></i>
                </button>
            </div>
            <!-- Título da Janela -->
            <span id="modal-title" class="text-sm font-semibold text-gray-700 select-none"></span>
            <!-- Espaço para alinhar o título ao centro -->
            <div class="modal-controls opacity-0 pointer-events-none">
                 <div class="modal-control-btn bg-red-500"></div>
                 <div class="modal-control-btn bg-yellow-500"></div>
                 <div class="modal-control-btn bg-green-500"></div>
            </div>
        </div>

        <!-- Barra de Ferramentas Interativas -->
        <div id="interactive-toolbar" class="interactive-toolbar hidden">
            <div class="flex items-center gap-2">
                <span class="text-sm font-medium text-gray-700">Ferramentas:</span>
                <button id="highlighter-btn" class="tool-btn" data-color="yellow" title="Marcador Amarelo">
                    <i class="fas fa-highlighter text-yellow-500"></i>
                    <span>Marcador</span>
                </button>
                <div class="flex gap-1">
                    <button class="tool-btn color-option bg-yellow-300 w-6 h-6 rounded-full" data-color="yellow" title="Amarelo"></button>
                    <button class="tool-btn color-option bg-pink-300 w-6 h-6 rounded-full" data-color="pink" title="Rosa"></button>
                    <button class="tool-btn color-option bg-blue-300 w-6 h-6 rounded-full" data-color="blue" title="Azul"></button>
                    <button class="tool-btn color-option bg-green-300 w-6 h-6 rounded-full" data-color="green" title="Verde"></button>
                </div>
                <button id="underline-btn" class="tool-btn" title="Sublinhar">
                    <i class="fas fa-underline text-blue-500"></i>
                    <span>Sublinhar</span>
                </button>
                <button id="note-btn" class="tool-btn" title="Adicionar Nota">
                    <i class="fas fa-sticky-note text-amber-500"></i>
                    <span>Nota</span>
                </button>
                <button id="clear-btn" class="tool-btn" title="Limpar Anotações">
                    <i class="fas fa-eraser text-red-500"></i>
                    <span>Limpar</span>
                </button>
            </div>
        </div>

        <!-- Área de Conteúdo (Com Rolagem Automática) -->
        <div id="modal-content-area" class="modal-content-area">
            <!-- Conteúdo será injetado aqui pelo JavaScript -->
        </div>
    </div>

    <!-- Caixa de Mensagem Customizada (Substitui alert() para Dock Items) -->
    <div id="message-box" class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4">
        <div class="bg-white p-6 rounded-lg shadow-2xl max-w-sm w-full text-center">
            <h3 id="message-title" class="text-xl font-bold mb-3 text-gray-800"></h3>
            <p id="message-content" class="text-gray-600 mb-5"></p>
            <button id="close-message" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-lg transition">
                OK
            </button>
        </div>
    </div>

    <!-- Área de Trabalho Principal com Imagem de Fundo -->
    <div id="desktop-background">

        <!-- Área Central de Conteúdo (Relógio e Ícones) -->
        <div class="flex-grow flex items-center justify-center w-full p-4 sm:p-8">
            
            <!-- Container Flexível para Centralizar o Relógio e alinhar Ícones -->
            <!-- Melhorada Responsividade: Empilha verticalmente no mobile, lado a lado no desktop (sm:) -->
            <div class="flex flex-col lg:flex-row items-center justify-center w-full max-w-4xl gap-4 lg:gap-8">

                <!-- 2. Relógio Digital Clean e Transparente com Efeito Suave -->
                <div id="clock-container" class="flex flex-col items-center p-4 sm:p-8 bg-white/10 backdrop-blur-md rounded-2xl shadow-xl border border-white/20 transition-all duration-300 hover:bg-white/20 ring-2 sm:ring-4 ring-white/50 ring-offset-2 sm:ring-offset-4 ring-offset-black/20 w-full max-w-md">
                    <div id="time" class="text-5xl sm:text-7xl md:text-9xl font-extrabold text-white tracking-tight drop-shadow-lg transition-all duration-300">
                        <!-- Hora atualizada pelo JS -->
                    </div>
                    <div id="date" class="text-lg sm:text-xl md:text-2xl text-white/90 mt-2 font-light drop-shadow-md text-center">
                        <!-- Data atualizada pelo JS -->
                    </div>
                </div>

                <!-- 3. Ícones Grandes Alinhados à Direita do Relógio (COLORIDOS) -->
                <!-- Melhorada Responsividade: Em linha no mobile (para economizar espaço), em coluna no desktop (sm:) -->
                <div id="icon-bar" class="grid grid-cols-2 sm:flex sm:flex-col gap-4 sm:gap-6">
                    
                    <!-- Ícone Geografia para Enem (VERDE/TEAL) - Agora abre Modal -->
                    <button data-title="Geografia para Enem" data-icon="fas fa-map-location-dot" data-type="modal" class="desktop-icon flex flex-col items-center p-3 w-24 h-24 sm:w-28 sm:h-28 rounded-xl drop-shadow-xl focus:outline-none">
                        <i class="fas fa-map-location-dot text-4xl sm:text-6xl text-teal-400"></i>
                        <span class="mt-2 text-xs sm:text-sm font-semibold text-center leading-tight">Geografia para Enem</span>
                    </button>
                    
                    <!-- Ícone História para Enem (AMARELO/LARANJA) - Agora abre Modal -->
                    <button data-title="História para Enem" data-icon="fas fa-solid fa-hourglass-half" data-type="modal" class="desktop-icon flex flex-col items-center p-3 w-24 h-24 sm:w-28 sm:h-28 rounded-xl drop-shadow-xl focus:outline-none">
                        <i class="fas fa-solid fa-hourglass-half text-4xl sm:text-6xl text-yellow-400"></i>
                        <span class="mt-2 text-xs sm:text-sm font-semibold text-center leading-tight">História para Enem</span>
                    </button>

                    <!-- Ícone Resumão (ÍNDIGO/ROXO) - Agora abre Modal PDF -->
                    <button data-title="Resumão" data-icon="fas fa-clipboard-list" data-type="pdf-modal" class="desktop-icon flex flex-col items-center p-3 w-24 h-24 sm:w-28 sm:h-28 rounded-xl drop-shadow-xl focus:outline-none">
                        <i class="fas fa-clipboard-list text-4xl sm:text-6xl text-indigo-400"></i>
                        <span class="mt-2 text-xs sm:text-sm font-semibold text-center leading-tight">Resumão da Salvação</span>
                    </button>

                       <!-- Ícone Lira Dutra (AZUL) - Agora abre Modal -->
                    <button data-title="Lira Dutra" data-icon="fas fa-solid fa-user-check" data-type="modal" class="desktop-icon flex flex-col items-center p-3 w-24 h-24 sm:w-28 sm:h-28 rounded-xl drop-shadow-xl focus:outline-none">
                        <i class="fas fa-solid fa-user-check text-4xl sm:text-6xl text-yellow-400"></i>
                        <span class="mt-2 text-xs sm:text-sm font-semibold text-center leading-tight">Créditos</span>
                    </button>
                    
                </div>
            </div>
        </div>

        <!-- 4. Menu na Parte Inferior (Dock estilo Mac) - AGORA TUDO SÃO LINKS EXTERNOS -->
        <nav id="dock" class="mb-4 sm:mb-6 p-3 sm:p-4 bg-white/30 backdrop-blur-xl rounded-2xl shadow-2xl flex space-x-4 sm:space-x-6 border border-white/40 overflow-x-auto">
            
            <!-- Item: Exercícios (VERDE LIMÃO) - Atualizado para Link Externo -->
            <button data-title="Exercícios" data-icon="fas fa-dumbbell" data-type="external-link" data-url="https://www.todamateria.com.br/exercicios" class="dock-item flex flex-col items-center p-2 rounded-xl flex-shrink-0">
                <i class="fas fa-dumbbell text-2xl sm:text-3xl text-lime-400"></i>
                <span class="text-xs mt-1 font-medium hidden sm:block dock-label">Exercícios</span>
            </button>
            
            <!-- Item: Vídeos (VERMELHO) - Atualizado para Link Externo -->
            <button data-title="Vídeos" data-icon="fas fa-film" data-type="external-link" data-url="https://enemnarede.seduc.ce.gov.br/curso/9/" class="dock-item flex flex-col items-center p-2 rounded-xl flex-shrink-0">
                <i class="fas fa-film text-2xl sm:text-3xl text-red-500"></i>
                <span class="text-xs mt-1 font-medium hidden sm:block dock-label">Vídeos</span>
            </button>

            <!-- Item: Podcast (ROSA) - Atualizado para Link Externo -->
            <button data-title="Podcast" data-icon="fas fa-microphone-alt" data-type="external-link" data-url="https://brasilescola.uol.com.br/podcasts/historia.htm" class="dock-item flex flex-col items-center p-2 rounded-xl flex-shrink-0">
                <i class="fas fa-microphone-alt text-2xl sm:text-3xl text-pink-500"></i>
                <span class="text-xs mt-1 font-medium hidden sm:block dock-label">Podcast</span>
            </button>
                  
            <!-- Item: Infográficos (LARANJA) - Atualizado para Link Externo -->
            <button data-title="Infográficos" data-icon="fas fa-chart-bar" data-type="external-link" data-url="https://geografiavisual.com.br/categoria/infografico" class="dock-item flex flex-col items-center p-2 rounded-xl flex-shrink-0">
                <i class="fas fa-chart-bar text-2xl sm:text-3xl text-orange-400"></i>
                <span class="text-xs mt-1 font-medium hidden sm:block dock-label">Infográficos</span>
            </button>
            
            <!-- Item: INEP/ENEM (AMARELO) - Atualizado para Link Externo e URL fornecida -->
            <button data-title="INEP/ENEM" data-icon="fas fa-link" data-type="external-link" data-url="https://www.gov.br/inep/pt-br/areas-de-atuacao/avaliacao-e-exames-educacionais/enem" class="dock-item flex flex-col items-center p-2 rounded-xl flex-shrink-0">
                <i class="fas fa-link text-2xl sm:text-3xl text-yellow-400"></i>
                <span class="text-xs mt-1 font-medium hidden sm:block dock-label">INEP/ENEM</span>
            </button>

        </nav>
    </div>

    <script>
        // Conteúdo para as janelas modais dos ícones do Desktop (Mantido)
        const modalContents = {
            'Lira Dutra': `
                <div class="profile-card">
                    <div class="profile-header">
                        <img src="https://static.ndmais.com.br/eleicoes/2024/ce/FCE60001982176_div.jpg" alt="Lira Dutra" class="profile-image">
                        <h1 class="profile-name">Lira Dutra</h1>
                        <p class="profile-title">Professor, Agente Cultural e Criador do Programa Vozes da Macaboqueira</p>
                        <div class="profile-badges">
                            <span class="badge">Professor</span>
                            <span class="badge">Poeta</span>
                            <span class="badge">Artista Visual</span>
                            <span class="badge">Produtor Cultural</span>
                        </div>
                    </div>
                    <div class="profile-content">
                        <div class="profile-section">
                            <h3><i class="fas fa-user-graduate"></i> Sobre</h3>
                            <p>Sou professor, agente cultural, poeta, artista visual e o criador do programa e canal Vozes da Macaboqueira. Com uma trajetória dedicada à educação e à cultura, já produzi vários documentários e publiquei 2 livros que refletem meu compromisso com a arte e o conhecimento.</p>
                        </div>
                        
                        <div class="profile-section">
                            <h3><i class="fas fa-trophy"></i> Conquistas e Realizações</h3>
                            <div class="achievement-list">
                                <div class="achievement-item">
                                    <h4>Programa Vozes da Macaboqueira</h4>
                                    <p>Criação e produção de programa cultural que dá voz à comunidade</p>
                                </div>
                                <div class="achievement-item">
                                    <h4>Documentários</h4>
                                    <p>Produção de diversos documentários focados em cultura e sociedade</p>
                                </div>
                                <div class="achievement-item">
                                    <h4>Publicações Literárias</h4>
                                    <p>Autor de 2 livros que exploram a interseção entre poesia e arte visual</p>
                                </div>
                                <div class="achievement-item">
                                    <h4>Projetos Culturais</h4>
                                    <p>Aprovação de diversos projetos em editais culturais locais e estaduais</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="profile-section">
                            <h3><i class="fas fa-heart"></i> Paixões e Propósito</h3>
                            <p>Minha trajetória é guiada pela crença no poder transformador da educação e da cultura. Através do ensino e da produção artística, busco criar pontes entre o conhecimento acadêmico e as expressões culturais populares, valorizando especialmente as narrativas e vozes das comunidades.</p>
                        </div>
                        
                        <div class="social-links">
                            <a href="https://www.instagram.com/liradutraoficial" target="_blank" class="social-link">
                                <i class="fab fa-instagram"></i>
                            </a>
                            <a href="#" class="social-link">
                                <i class="fab fa-youtube"></i>
                            </a>
                            <a href="#" class="social-link">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a href="#" class="social-link">
                                <i class="fas fa-envelope"></i>
                            </a>
                        </div>
                    </div>
                </div>
            `,
            'Geografia para Enem': `
                <h2 class="text-2xl font-bold mb-4 text-gray-800">Temas essenciais de Geografia para o ENEM</h2>
                <p class="mb-4 text-lg text-gray-800">
                
                <img src="https://blog-es-static.infra.grancursosonline.com.br/wp-content/uploads/2024/06/17211152/assuntos-de-geografia-que-mais-caem-no-enem.jpg" alt="Geografia para ENEM" class="modal-image rounded-lg my-4">      
                Os principais temas de Geografia para o ENEM são urbanização, agropecuária, questões ambientais, geopolítica e relevo. É fundamental também estudar sobre migrações, globalização, interpretação de mapas, climatologia, hidrografia e o estudo da população e demografia.</p>
                
                <div class="flashcard my-6">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            <h3 class="text-xl font-bold text-center">O que é Urbanização?</h3>
                        </div>
                        <div class="flashcard-back">
                            <p class="text-center">Processo de crescimento das cidades, com aumento da população urbana em relação à rural.</p>
                        </div>
                    </div>
                </div>
                
                <div class="sticky-note my-4">
                    <strong>Dica:</strong> Foque em entender os impactos da urbanização no Brasil, especialmente problemas como moradia e transporte.
                </div>
                
                <h3 class="text-xl font-semibold mt-4 mb-2 text-teal-600">Temas de Destaque</h3>
                <ul class="list-disc list-inside space-y-2 text-gray-700 ml-4">
                    <li><strong>Urbanização:</strong> Crescimento das cidades, problemas como moradia e transporte, e o impacto do crescimento nas cidades brasileiras e globais.</li>
                    <li><strong>Agropecuária:</strong> Como a agropecuária se organiza no espaço e como se relaciona com a produção de alimentos e com a natureza.</li>
                    <li><strong>Questões ambientais:</strong> Impactos da ação humana no meio ambiente e como a sociedade busca soluções através de políticas sustentáveis, como energia renovável e acordos internacionais.</li>
                    <li><strong>Geopolítica:</strong> Relações entre países, acordos, conflitos e o cenário político e econômico global.</li>
                    <li><strong>Relevo e Geomorfologia:</strong> Formação do relevo, tipos de rochas e os fatores (endógenos e exógenos) que moldam a superfície terrestre, com atenção especial ao Brasil.</li>
                </ul>

                <div class="my-6 p-4 bg-blue-50 rounded-lg">
                    <h4 class="font-bold text-blue-800 mb-2">Quiz Rápido - Geografia</h4>
                    <p class="mb-3">Qual destes NÃO é um problema relacionado à urbanização?</p>
                    <div class="quiz-option" data-correct="false">A) Falta de moradia adequada</div>
                    <div class="quiz-option" data-correct="false">B) Congestionamentos</div>
                    <div class="quiz-option" data-correct="true">C) Aumento da produção agrícola</div>
                    <div class="quiz-option" data-correct="false">D) Poluição do ar</div>
                </div>

                <h3 class="text-xl font-semibold mt-4 mb-2 text-teal-600">Outros Temas Importantes</h3>
                <ul class="list-disc list-inside space-y-2 text-gray-700 ml-4">
                    <li><strong>Migrações:</strong> Os fatores que levam as pessoas a se deslocar e as consequências desse processo.</li>
                    <li><strong>Globalização e desenvolvimento técnico-científico:</strong> O impacto da globalização na economia e na sociedade.</li>
                    <li><strong>Interpretação de mapas:</strong> Habilidade de ler e analisar informações contidas em mapas.</li>
                    <li><strong>Climatologia:</strong> Os diferentes tipos de clima, seus fatores e impactos.</li>
                    <li><strong>Hidrografia:</strong> O estudo das águas e recursos hídricos.</li>
                    <li><strong>População e demografia:</strong> Distribuição, crescimento e outras características da população.</li>
                </ul>
            `,
            'História para Enem': `
                <h2 class="text-2xl font-bold mb-4 text-gray-800">Temas essenciais de História para o ENEM</h2>
                <p class="mb-4 text-lg text-gray-700">
                <img src="https://www.gov.br/inep/pt-br/centrais-de-conteudo/noticias/enem/edital-do-enem-2025-publicado/cabecalho-31-3-copiar-3-2.png/@@images/cbeac3c2-f96b-494a-9724-63fd3066cacc.png" alt="História para ENEM" class="modal-image rounded-lg my-4"> 
                Os principais temas de História para o ENEM são a História do Brasil Colonial e Imperial (com ênfase na escravidão, abolição e segundo reinado), a Primeira República e a Era Vargas (direitos trabalhistas, industrialização e Ditadura do Estado Novo) e a Ditadura Militar no Brasil.</p>
                <p class="mb-4 text-lg text-gray-700">Na História Geral, o Iluminismo, a Revolução Industrial e os eventos do século XX, como a Primeira e Segunda Guerras Mundiais e a Guerra Fria, também são recorrentes.</p>
                
                <div class="flashcard my-6">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            <h3 class="text-xl font-bold text-center">O que foi a Era Vargas?</h3>
                        </div>
                        <div class="flashcard-back">
                            <p class="text-center">Período de 15 anos em que Getúlio Vargas governou o Brasil, marcado pela criação de leis trabalhistas e centralização do poder.</p>
                        </div>
                    </div>
                </div>
                
                <div class="sticky-note my-4">
                    <strong>Dica:</strong> Preste atenção nas causas e consequências da Segunda Guerra Mundial e seu impacto no Brasil.
                </div>
                
                <h3 class="text-xl font-semibold mt-4 mb-2 text-yellow-600">História do Brasil</h3>
                <ul class="list-disc list-inside space-y-2 text-gray-700 ml-4">
                    <li><strong>Brasil Colonial e Imperial:</strong> A escravidão, o processo de abolição, a abolição da escravatura e os movimentos abolicionistas são temas centrais. O Segundo Reinado e o ciclo do café também são muito cobrados.</li>
                    <li><strong>Primeira República:</strong> A República Velha e seus desdobramentos são frequentemente abordados.</li>
                    <li><strong>Era Vargas:</strong> Estude os direitos trabalhistas, o processo de industrialização, a Era Vargas como um todo e a Ditadura do Estado Novo.</li>
                    <li><strong>Ditadura Militar:</strong> Questões sobre o regime militar e a luta por democracia são importantes.</li>
                </ul>

                <div class="my-6 p-4 bg-blue-50 rounded-lg">
                    <h4 class="font-bold text-blue-800 mb-2">Quiz Rápido - História</h4>
                    <p class="mb-3">Qual evento histórico NÃO aconteceu durante a Era Vargas?</p>
                    <div class="quiz-option" data-correct="false">A) Criação da CLT</div>
                    <div class="quiz-option" data-correct="false">B) Criação do Estado Novo</div>
                    <div class="quiz-option" data-correct="true">C) Proclamação da República</div>
                    <div class="quiz-option" data-correct="false">D) Criação da Petrobrás</div>
                </div>

                <h3 class="text-xl font-semibold mt-4 mb-2 text-yellow-600">História Geral</h3>
                <ul class="list-disc list-inside space-y-2 text-gray-700 ml-4">
                    <li><strong>Antiguidade Clássica:</strong> A Grécia Antiga e a democracia ateniense são temas importantes, assim como Roma e a sua influência.</li>
                    <li><strong>Idade Moderna e Contemporânea:</strong> O Iluminismo, as Revoluções Burguesas, a Revolução Industrial e o Absolutismo são temas essenciais.</li>
                    <li><strong>Século XX:</strong> A Primeira e Segunda Guerras Mundiais, a Guerra Fria, o Holocausto e os movimentos sociais são recorrentes.</li>
                </ul>
            `,
            'Resumão': `
                <h2 class="text-2xl font-bold mb-4 text-gray-800">Resumo de Geografia e História (PDF)</h2>
                <p class="mb-4 text-lg text-gray-700">Visualize o Resumão de Geografia e História diretamente abaixo. Utilize a barra de rolagem para navegar pelo documento.</p>
                <!-- O iFrame precisa de altura total para ser visualizado dentro da área de rolagem da modal -->
                <div class="flex-grow h-full min-h-[500px]"> 
                    <iframe src="https://macaboqueira.github.io/enem/resumao_geoh.pdf" class="w-full h-full border rounded-lg shadow-inner" frameborder="0">
                        Seu navegador não suporta iFrames, <a href="https://macaboqueira.github.io/enem/resumao_geoh.pdf" target="_blank" class="text-blue-500">clique aqui para abrir o PDF</a>.
                    </iframe>
                </div>
            `
        };


        // --- Variáveis de Estado da Janela ---
        let currentOpenTitle = null; 
        let isMinimized = false;     

        // --- Variáveis para Arrastar (Draggable) ---
        let isDragging = false;
        let dragOffsetX = 0, dragOffsetY = 0;
        const modal = document.getElementById('desktop-modal');
        const modalTitleBar = document.querySelector('.modal-title-bar');

        // --- Variáveis para Ferramentas Interativas ---
        let isHighlighterActive = false;
        let currentHighlighterColor = 'yellow';
        let isUnderlineActive = false;
        let isNoteActive = false;


        // Função para exibir mensagens customizadas (substitui alert() para Dock Items)
        function showMessage(title, message) {
            const messageBox = document.getElementById('message-box');
            document.getElementById('message-title').textContent = title;
            document.getElementById('message-content').textContent = message;
            messageBox.classList.remove('hidden');
        }

        // Função para fechar a caixa de mensagem do Dock
        document.getElementById('close-message').addEventListener('click', () => {
            document.getElementById('message-box').classList.add('hidden');
        });

        // --- Funções da Janela Modal ---

        // Implementação do Minimizar (Botão Amarelo)
        function minimizeDesktopModal() {
            if (!modal.classList.contains('open')) return; 

            modal.classList.remove('open');
            document.getElementById('modal-overlay').classList.add('hidden');
            isMinimized = true;
        }

        // Função para fechar a Janela Modal do Desktop (Botão Vermelho)
        function closeDesktopModal() {
            // Remove a classe de abertura primeiro para animação de fechar
            modal.classList.remove('open');
            
            // Aguarda a transição antes de esconder completamente
            setTimeout(() => {
                // Garante que o modal esteja no estado "restaurado" antes de fechar
                modal.classList.remove('maximized');
                document.getElementById('maximize-icon').classList.remove('fa-compress-arrows-alt');
                document.getElementById('maximize-icon').classList.add('fa-expand-arrows-alt');
                document.getElementById('maximize-modal-btn').title = "Maximizar";

                document.getElementById('modal-overlay').classList.add('hidden');
                
                // Limpa os estados
                document.getElementById('modal-content-area').innerHTML = ''; 
                currentOpenTitle = null;
                isMinimized = false;
                
                // Desativa a barra de ferramentas
                document.getElementById('interactive-toolbar').classList.add('hidden');
            }, 300);
        }

        // Função para abrir ou restaurar a Janela Modal do Desktop
        function openDesktopModal(title, htmlContent) {
            console.log('Abrindo modal:', title);
            
            // Se estiver minimizada E o mesmo item for clicado, RESTAURA
            if (isMinimized && currentOpenTitle === title) {
                console.log('Restaurando modal minimizada');
                modal.classList.add('open');
                document.getElementById('modal-overlay').classList.remove('hidden');
                isMinimized = false;
            } else if (currentOpenTitle === title && modal.classList.contains('open')) {
                // Já está aberta, ignora
                console.log('Modal já está aberta, ignorando');
                return;
            } else {
                console.log('Abrindo novo conteúdo');
                // Abre um novo conteúdo
                document.getElementById('modal-title').textContent = title;
                document.getElementById('modal-content-area').innerHTML = htmlContent;
                document.getElementById('modal-overlay').classList.remove('hidden');
                currentOpenTitle = title;
                isMinimized = false; 
                
                // Reseta o estado de maximização
                modal.classList.remove('maximized');
                document.getElementById('maximize-icon').classList.remove('fa-compress-arrows-alt');
                document.getElementById('maximize-icon').classList.add('fa-expand-arrows-alt');
                document.getElementById('maximize-modal-btn').title = "Maximizar";

                // Reseta a posição para o centro da tela
                modal.style.top = '50%';
                modal.style.left = '50%';
                
                // Aplica o efeito de surgir
                setTimeout(() => {
                    modal.classList.add('open');
                }, 10);

                // Ativa a barra de ferramentas para conteúdos interativos (exceto PDF)
                if (title !== 'Resumão') {
                    document.getElementById('interactive-toolbar').classList.remove('hidden');
                    setupInteractiveTools();
                } else {
                    document.getElementById('interactive-toolbar').classList.add('hidden');
                }
            }
        }

        // Função para alternar o estado de maximização da Janela Modal (Botão Verde)
        function toggleMaximize() {
            modal.classList.toggle('maximized');

            if (modal.classList.contains('maximized')) {
                // Estado maximizado: desabilita o arrastar e reseta a posição
                modalTitleBar.style.cursor = 'default';
                
                // Assegura que o modal fique no canto superior esquerdo
                modal.style.transition = 'all 0.3s ease'; 
                modal.style.top = '0';
                modal.style.left = '0';
                modal.style.transform = 'none';

                document.getElementById('maximize-icon').classList.remove('fa-expand-arrows-alt');
                document.getElementById('maximize-icon').classList.add('fa-compress-arrows-alt');
                document.getElementById('maximize-modal-btn').title = "Restaurar";
            } else {
                // Estado normal: permite arrastar e centraliza
                modalTitleBar.style.cursor = 'grab';

                // Restaura a posição centralizada (ou a última posição arrastada)
                modal.style.transition = 'all 0.3s ease'; 
                modal.style.top = '50%';
                modal.style.left = '50%';
                modal.style.transform = 'translate(-50%, -50%) scale(1)';

                document.getElementById('maximize-icon').classList.remove('fa-compress-arrows-alt');
                document.getElementById('maximize-icon').classList.add('fa-expand-arrows-alt');
                document.getElementById('maximize-modal-btn').title = "Maximizar";
            }
        }

        // --- Draggable Logic (sem efeito gelatina) ---

        function dragStart(e) {
            // Não permite arrastar se estiver maximizada ou se for um clique nos botões de controle
            if (modal.classList.contains('maximized') || e.target.closest('.modal-controls')) return;
            
            isDragging = true;
            // Posição inicial do mouse/toque
            const clientX = e.clientX || e.touches[0].clientX;
            const clientY = e.clientY || e.touches[0].clientY;

            // Calcula o deslocamento (offset) do clique em relação ao modal
            const modalRect = modal.getBoundingClientRect();
            dragOffsetX = clientX - modalRect.left;
            dragOffsetY = clientY - modalRect.top;

            // Estilos para dragging
            modalTitleBar.style.cursor = 'grabbing';
            modal.style.transition = 'none'; // Desativa transição para arrasto suave
            modal.style.zIndex = 50; // Traz para frente de outros elementos (opcional, mas bom)
            
            // Aplica efeito visual durante o arrasto
            modal.classList.add('dragging');
        }

        function drag(e) {
            if (!isDragging) return;
            
            e.preventDefault(); 
            
            const clientX = e.clientX || e.touches[0].clientX;
            const clientY = e.clientY || e.touches[0].clientY;

            // Calcula a nova posição do modal
            let newLeft = clientX - dragOffsetX;
            let newTop = clientY - dragOffsetY;

            // Aplica a nova posição (usa left/top em pixels e remove o transform: translate centralizado)
            modal.style.left = `${newLeft}px`;
            modal.style.top = `${newTop}px`;
            modal.style.transform = 'none'; // Remove a centralização
        }

        function dragEnd() {
            if (!isDragging) return;
            isDragging = false;
            modalTitleBar.style.cursor = 'grab'; 
            modal.style.transition = 'all 0.3s ease'; // Reativa a transição
            modal.style.zIndex = 40;
            
            // Remove o efeito de arrasto
            modal.classList.remove('dragging');
        }

        // --- Funções para Ferramentas Interativas ---

        function setupInteractiveTools() {
            // Configura os eventos para as ferramentas interativas
            const highlighterBtn = document.getElementById('highlighter-btn');
            const underlineBtn = document.getElementById('underline-btn');
            const noteBtn = document.getElementById('note-btn');
            const clearBtn = document.getElementById('clear-btn');
            const colorOptions = document.querySelectorAll('.color-option');
            
            // Evento para ativar/desativar o marcador
            highlighterBtn.addEventListener('click', () => {
                isHighlighterActive = !isHighlighterActive;
                isUnderlineActive = false;
                isNoteActive = false;
                
                updateToolStates();
                
                if (isHighlighterActive) {
                    document.getElementById('modal-content-area').style.cursor = 'url("data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'24\' height=\'24\' viewBox=\'0 0 24 24\'%3E%3Cpath fill=\'' + 
                    (currentHighlighterColor === 'yellow' ? '%23FFEB3B' : 
                     currentHighlighterColor === 'pink' ? '%23F48FB1' : 
                     currentHighlighterColor === 'blue' ? '%2381D4FA' : '%23A5D6A7') + 
                    '\' d=\'M2 20h20v4H2z\'/%3E%3C/svg%3E") 0 24, auto';
                } else {
                    document.getElementById('modal-content-area').style.cursor = 'auto';
                }
            });
            
            // Evento para ativar/desativar sublinhado
            underlineBtn.addEventListener('click', () => {
                isUnderlineActive = !isUnderlineActive;
                isHighlighterActive = false;
                isNoteActive = false;
                
                updateToolStates();
                
                if (isUnderlineActive) {
                    document.getElementById('modal-content-area').style.cursor = 'url("data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'24\' height=\'24\' viewBox=\'0 0 24 24\'%3E%3Cpath fill=\'%23000\' d=\'M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z\'/%3E%3C/svg%3E") 0 24, auto';
                } else {
                    document.getElementById('modal-content-area').style.cursor = 'auto';
                }
            });
            
            // Evento para adicionar notas
            noteBtn.addEventListener('click', () => {
                isNoteActive = !isNoteActive;
                isHighlighterActive = false;
                isUnderlineActive = false;
                
                updateToolStates();
                
                if (isNoteActive) {
                    document.getElementById('modal-content-area').style.cursor = 'url("data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'24\' height=\'24\' viewBox=\'0 0 24 24\'%3E%3Cpath fill=\'%23FFA000\' d=\'M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z\'/%3E%3C/svg%3E") 0 24, auto';
                } else {
                    document.getElementById('modal-content-area').style.cursor = 'auto';
                }
            });
            
            // Evento para limpar anotações
            clearBtn.addEventListener('click', () => {
                const highlighted = document.querySelectorAll('.highlight-yellow, .highlight-pink, .highlight-blue, .highlight-green, .text-annotation');
                highlighted.forEach(el => {
                    const parent = el.parentNode;
                    parent.replaceChild(document.createTextNode(el.textContent), el);
                    parent.normalize();
                });
                
                const notes = document.querySelectorAll('.sticky-note.user-note');
                notes.forEach(note => note.remove());
                
                showMessage('Anotações Limpas', 'Todas as suas anotações foram removidas.');
            });
            
            // Eventos para seleção de cores
            colorOptions.forEach(option => {
                option.addEventListener('click', () => {
                    currentHighlighterColor = option.getAttribute('data-color');
                    colorOptions.forEach(opt => opt.classList.remove('ring-2', 'ring-blue-500'));
                    option.classList.add('ring-2', 'ring-blue-500');
                });
            });
            
            // Evento para aplicar marcações ao texto selecionado
            document.getElementById('modal-content-area').addEventListener('mouseup', (e) => {
                const selection = window.getSelection();
                const selectedText = selection.toString().trim();
                
                if (selectedText.length === 0) return;
                
                if (isHighlighterActive) {
                    const range = selection.getRangeAt(0);
                    const selectedContent = range.extractContents();
                    const span = document.createElement('span');
                    
                    span.appendChild(selectedContent);
                    span.className = `highlight-${currentHighlighterColor}`;
                    
                    range.insertNode(span);
                    selection.removeAllRanges();
                    
                    // Desativa o marcador após uso
                    isHighlighterActive = false;
                    updateToolStates();
                    document.getElementById('modal-content-area').style.cursor = 'auto';
                }
                
                if (isUnderlineActive) {
                    const range = selection.getRangeAt(0);
                    const selectedContent = range.extractContents();
                    const span = document.createElement('span');
                    
                    span.appendChild(selectedContent);
                    span.className = 'text-annotation';
                    
                    range.insertNode(span);
                    selection.removeAllRanges();
                    
                    // Desativa o sublinhado após uso
                    isUnderlineActive = false;
                    updateToolStates();
                    document.getElementById('modal-content-area').style.cursor = 'auto';
                }
                
                if (isNoteActive) {
                    const noteText = prompt('Digite sua nota:', '');
                    if (noteText) {
                        const noteElement = document.createElement('div');
                        noteElement.className = 'sticky-note user-note';
                        noteElement.innerHTML = `<strong>Sua nota:</strong> ${noteText}`;
                        
                        const range = selection.getRangeAt(0);
                        range.collapse(false);
                        range.insertNode(noteElement);
                        
                        selection.removeAllRanges();
                        
                        // Desativa a adição de notas após uso
                        isNoteActive = false;
                        updateToolStates();
                        document.getElementById('modal-content-area').style.cursor = 'auto';
                    }
                }
            });
            
            // Configura os flashcards
            document.querySelectorAll('.flashcard').forEach(card => {
                card.addEventListener('click', () => {
                    card.classList.toggle('flipped');
                });
            });
            
            // Configura os quizzes
            document.querySelectorAll('.quiz-option').forEach(option => {
                option.addEventListener('click', () => {
                    const isCorrect = option.getAttribute('data-correct') === 'true';
                    
                    // Remove classes anteriores
                    document.querySelectorAll('.quiz-option').forEach(opt => {
                        opt.classList.remove('correct', 'incorrect');
                    });
                    
                    // Aplica a classe correta/incorreta
                    if (isCorrect) {
                        option.classList.add('correct');
                        showMessage('Resposta Correta!', 'Parabéns, você acertou!');
                    } else {
                        option.classList.add('incorrect');
                        showMessage('Resposta Incorreta', 'Tente novamente!');
                    }
                });
            });
        }
        
        function updateToolStates() {
            const highlighterBtn = document.getElementById('highlighter-btn');
            const underlineBtn = document.getElementById('underline-btn');
            const noteBtn = document.getElementById('note-btn');
            
            highlighterBtn.classList.toggle('active', isHighlighterActive);
            underlineBtn.classList.toggle('active', isUnderlineActive);
            noteBtn.classList.toggle('active', isNoteActive);
        }

        /**
         * Atualiza o relógio digital e a data.
         */
        function updateClock() {
            const now = new Date();

            // Formatação da Hora (exemplo: 14:30)
            const timeOptions = { hour: '2-digit', minute: '2-digit' };
            const timeString = now.toLocaleTimeString('pt-BR', timeOptions);

            // Formatação da Data (exemplo: Segunda-feira, 06 de Novembro de 2025)
            const dateOptions = { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' };
            let dateString = now.toLocaleDateString('pt-BR', dateOptions);

            // Capitaliza a primeira letra do dia da semana
            dateString = dateString.charAt(0).toUpperCase() + dateString.slice(1);

            document.getElementById('date').textContent = dateString;

            // Lógica para fazer o separador (:) piscar
            const seconds = now.getSeconds();
            const opacity = seconds % 2 === 0 ? 'opacity-100' : 'opacity-40';
            
            // Reconstroi a string da hora, envolvendo o ':' com a opacidade
            const formattedTimeString = timeString.replace(':', `<span class="${opacity} transition-opacity duration-500">:</span>`);
            
            document.getElementById('time').innerHTML = formattedTimeString;
        }

        // Inicializa a aplicação quando a página estiver totalmente carregada
        window.onload = function() {
            // 1. Inicializa o relógio
            updateClock();
            setInterval(updateClock, 1000);

            // 2. Adiciona listeners para os botões da modal
            document.getElementById('close-modal-btn').addEventListener('click', closeDesktopModal);
            document.getElementById('modal-overlay').addEventListener('click', closeDesktopModal);
            document.getElementById('maximize-modal-btn').addEventListener('click', toggleMaximize);
            document.getElementById('minimize-modal-btn').addEventListener('click', minimizeDesktopModal);

            // 3. Adiciona listeners para o Draggable (Mouse e Touch)
            modalTitleBar.addEventListener('mousedown', dragStart);
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', dragEnd);

            modalTitleBar.addEventListener('touchstart', dragStart);
            document.addEventListener('touchmove', drag);
            document.addEventListener('touchend', dragEnd);

            // 4. Adiciona listeners de clique para os Ícones da Área de Trabalho (Abre/Restaura Modal)
            document.querySelectorAll('.desktop-icon').forEach(icon => {
                icon.addEventListener('click', (e) => {
                    const title = e.currentTarget.getAttribute('data-title');
                    const type = e.currentTarget.getAttribute('data-type');
                    
                    if (type === 'modal' || type === 'pdf-modal') {
                        // Se o modal estiver minimizado e o mesmo ícone for clicado, ele restaura.
                        // Se for outro ícone, ele abre.
                        openDesktopModal(title, modalContents[title]);
                    } else {
                        showMessage(`Abrir ${title}`, `A aplicação "${title}" está sendo iniciada...`);
                    }
                });
            });

            // 5. Adiciona listeners de clique para os Itens do Dock (agora suporta links externos)
            document.querySelectorAll('.dock-item').forEach(item => {
                item.addEventListener('click', (e) => {
                    const title = e.currentTarget.getAttribute('data-title');
                    const type = e.currentTarget.getAttribute('data-type');
                    const url = e.currentTarget.getAttribute('data-url');

                    if (type === 'external-link' && url) {
                        // Abrir link externo em nova aba
                        window.open(url, '_blank');
                    } else {
                        // Comportamento interno ou mensagem de placeholder (Não deve ser mais usado, mas mantido como fallback)
                        showMessage(`Abrir Recurso`, `O recurso "${title}" foi acessado. (Em breve teremos o app completo!)`);
                    }
                });
            });
        };
    </script>
</body>
</html>
